<!DOCTYPE html>
<html lang="en" >
<head >
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
    <title >Eternal Vibes</title >

    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" >
    <link href="stylesheets/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="stylesheets/style.css" type="text/css" rel="stylesheet" media="screen,projection" />

</head >
<body >
<div class="row" >
    <div class="col s3" >
        <ul id="slide-out" class="side-nav fixed" >
            <li >
                <div class="userView" >
                    <div class="background" >
                        <img src="images/background/background1.jpg" >
                    </div >
                    <a href="#!user" ><img class="circle"
                                           src="https://s.yimg.com/wv/images/232cc165ee2630ff165c30fd2d6cd8b6_96.jpg" ></a >
                    <a href="#!name" ><span class="white-text name" >David Innes</span ></a >
                    <a href="#!email" ><span class="white-text email" >Innes381@gmail.com</span ></a >
                </div >
            </li >

            <li ><a class="subheader" ><i class="material-icons right" >thumbs_up_down</i >Flagged</a ></li >
            <li class='active' ><a href="/flaggedusers" >Users</a ></li >
            <li ><a href="/flaggedposts" >Posts</a ></li >
            <li >
                <div class="divider" ></div >
            </li >
            <li ><a class="subheader" ><i class="material-icons right" >power_settings_new</i >Admin</a ></li >
            <li ><a href="/broadcast" >Broadcast Message</a ></li >
            <li ><a href="/addStudio" >Add Studio</a ></li >
            <li ><a href="/reports" >Reports</a ></li >
        </ul >
        <a href="#" data-activates="slide-out" class="button-collapse" ><i class="material-icons" >menu</i ></a >

    </div >
    <div class="col s8" >
        <div class="valign-wrapper" >
            <h2 class="center-align" style='width:100%;' >Reports</h2 >
        </div >
        <ul id="staggered-test" >

            <li class="" style="transform: translateX(0px); opacity: 0; " >
                <div class='container' >
                    <div class="card white darken-4 black-text" >
                        <div class="card-content" >
                            <h1>Genre percentages</h1>
                            <canvas id="myChart" width="400" height="400"></canvas>
                        </div >
                    </div >
                </div >
            </li >
            <li class="" style="transform: translateX(0px); opacity: 0; " >
                <div class='container' >
                    <div class="card white darken-4 black-text" >
                        <div class="card-content" >
                            <h1>Daily # of Signups</h1>
                            <br>
                            <%=Reports.users24.count%>
                        </div >
                    </div >
                </div >
            </li >
            <li class="" style="transform: translateX(0px); opacity: 0; " >
                <div class='container' >
                    <div class="card white darken-4 black-text" >
                        <div class="card-content" >
                            <h1>Daily # of Events created</h1>
                            <br>
                            <%=Reports.events24.count%>
                        </div >
                    </div >
                </div >
            </li >
            <li class="" style="transform: translateX(0px); opacity: 0; " >
                <div class='container' >
                    <div class="card white darken-4 black-text" >
                        <div class="card-content" >
                            <h1>Daily # of Logins</h1>
                            <br>
                            <%=Reports.usersLogin24.count%>
                        </div >
                    </div >
                </div >
            </li >
        </ul >
    </div >

</div >

<!--  Scripts-->
<script src="https://code.jquery.com/jquery-2.1.1.min.js" ></script >
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js" ></script >
<script>
    
  var ctx = document.getElementById("myChart").getContext('2d');
  var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: [<%Reports.genres.forEach(function (genre) {%>
        "<%=genre.name%>",
          <%})%>],
      datasets: [{
        label: '# of users',
        data: [<%Reports.genres.forEach(function (genre) {%>
          <%=genre.count%>,
            <%})%>],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        yAxes: [{
          ticks: {
            beginAtZero:true
          }
        }]
      }
    }
  });

</script>
<script src="javascripts/materialize.min.js" ></script >
<script src="javascripts/init.js" ></script >
<script >
  Materialize.showStaggeredList('#staggered-test');

  // Initialize collapse button
  $(".button-collapse").sideNav();

</script >

</body >
</html >
