<!DOCTYPE html>
<html lang="en" >
<head >
    <%- include ../../Partials/AboveFold.ejs %>
</head >
<body >
<main >
    <div class="row" >
        <%- include ./partials/nav.ejs %>
        <div class="col s8" >
            <div class="valign-wrapper" >
                <h2 class="center-align" style='width:100%;' >Broadcast Message</h2 >
            </div >
            <ul id="staggered-test" >

                <li class="" style="transform: translateX(0px); opacity: 0; " >
                    <div class='container' >
                        <div class="card white darken-4 black-text" >
                            <div class="card-content" >

                                <div class="input-field" >
                                <textarea id="textarea1" type="text" class="materialize-textarea"
                                          data-length="120" ></textarea >
                                    <label for="textarea1" >Message</label >
                                </div >

                                <div class="input-field" >
                                <textarea id="textarea1" type="text" class="materialize-textarea"
                                          data-length="120" ></textarea >
                                    <label for="textarea1" >Only to UserID/s (optional, comma seperated)</label >
                                </div >

                                <button class="btn waves-effect waves-light" type="submit" name="action" >Submit
                                    <i class="material-icons right" >send</i >
                                </button >
                            </div >
                        </div >

                    </div >

                </li >
            </ul >
        </div >

    </div >

</main >
<%- include ../../Partials/footer.ejs %>
<script >
  Materialize.showStaggeredList('#staggered-test');

  // Initialize collapse button
  $(".button-collapse").sideNav();
  $('.datepicker').pickadate({
    selectDay: true, // Creates a dropdown to control month
    selectWeek: true
  });

  function doCheck() {
    var allFilled = true;
    $('textarea[type=text]').each(function () {
      if ($(this).val() === '') {
        allFilled = false;
        return false;
      }
    });
    $('button[type=submit]').prop('disabled', !allFilled);
  }

  $(document).ready(function () {
    doCheck();
    $('textarea[type=text]').keyup(doCheck).focusout(doCheck);

  });

  $('body').on('click', 'button[type=submit]', function () {
    Materialize.toast('Broadcasted', 2000)
  });
</script >

</body >
</html >
