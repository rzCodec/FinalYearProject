<!doctype html>
<html >
<head >
    <%- include ../../Partials/AboveFold.ejs %>
</head >
<body >
<%- include ./partials/nav.ejs %>
<main >
    <div class="container" >
        <div class="col-sm-6 col-sm-offset-3" >
            <h1 ><span class="fa fa-sign-in" ></span > Signup</h1 >
            <% if (message.length > 0) { %>
            <div class="alert alert-danger" ><%= message %></div >
            <% } %>
            <div class="row" >
                <form action="/signup" class="formValidate col s12 " id="formValidate" method="post" action=""
                      novalidate="novalidate" >
                    <div class="row" >
                        <div class="input-field col s6" >
                            <label for="firstname" >First Name</label >
                            <input id="firstname" name="firstname" type="text" data-error=".errorTxt1" >
                            <div class="errorTxt1" ></div >
                        </div >
                        <div class="input-field col s6" >
                            <label for="surname" >Surname</label >
                            <input id="surname" name="surname" type="text" data-error=".errorTxt22" >
                            <div class="errorTxt22" ></div >
                        </div >
                        <div class="input-field col s12" >
                            <label for="realUserName" >Username</label >
                            <input id="realUserName" name="realUserName" type="text" data-error=".errorTxt23" >
                            <div class="errorTxt23" ></div >
                        </div >
                        <div class="input-field col s12" >
                            <label for="username" >Email</label >
                            <input id="username" name="username" type="email" data-error=".errorTxt24" >
                            <div class="errorTxt24" ></div >
                        </div >
                        <div class="input-field col s12" >
                            <label for="password" >Password</label >
                            <input id="password" type="password" name="password" data-error=".errorTxt3" >
                            <div class="errorTxt3" ></div >
                        </div >
                        <div class="input-field col s12" >
                            <label for="confirmpassword" >Confirm Password</label >
                            <input id="confirmpassword" type="password" name="confirmpassword" data-error=".errorTxt4" >
                            <div class="errorTxt4" ></div >
                        </div >
                        <div class="col s12" >
                            <label for="genre" >Genre</label >
                            <select class="error browser-default" id="genre" name="genre" data-error=".errorTxt6" >
                                <option value="" disabled="" selected="" >Choose your genre</option >
                                <% genres.forEach(function(t){
                                %>
                                <option value="<%= t.id %>" ><%= t.name %></option >
                                <%
                                }); %>
                            </select >
                            <div class="input-field" >
                                <div class="errorTxt6" ></div >
                            </div >
                        </div >
                        <div class="col s12" >
                            <label for="distance" >Choose the distance you want to search for people in</label >
                            <select class="error browser-default" id="distance" name="distance"
                                    data-error=".errorTxt68" >
                                <option value="" disabled="" selected="" >Distance (KM)</option >
                                <% distances.forEach(function(t){
                                %>
                                <option value="<%= t.id %>" ><%= t.distance %></option >
                                <%
                                }); %>
                            </select >
                            <div class="input-field" >
                                <div class="errorTxt68" ></div >
                            </div >
                        </div >
                        <div class="col s12" >
                            <label for="skill" >Choose the musical skill that suits you </label >
                            <select class="error browser-default" id="skill" name="skill"
                                    data-error=".errorTxt6888" >
                                <option value="" disabled="" selected="" >Skill</option >
                                <% skills.forEach(function(t){
                                %>
                                <option value="<%= t.id %>" ><%= t.name %></option >
                                <%
                                }); %>
                            </select >
                            <div class="input-field" >
                                <div class="errorTxt6888" ></div >
                            </div >
                        </div >
                        <div class="input-field col s12" >
                        <textarea id="description" name="description" class="materialize-textarea validate"
                                  data-error=".errorTxt7" ></textarea >
                            <label for="description" >Description</label >
                            <div class="errorTxt7" ></div >
                        </div >
                        <div class="col s12" >
                            <label for="tnc_select" >T&amp;C *</label >
                            <p >
                                <input type="checkbox" class="checkbox" id="agreee" name="agreee"
                                       data-error=".errorTxt9" >
                                <label for="agreee" >Please agree to our policy</label >
                            </p >
                            <div class="input-field" >
                                <div class="errorTxt9" ></div >
                            </div >
                        </div >
                        <div class="input-field col s12" >
                            <button class="btn waves-effect waves-light left submit" type="submit" name="action" >Sign
                                Up
                                <i class="mdi-content-send right" ></i >
                            </button >
                        </div >
                    </div >
                </form >
            </div >
            <hr >
            <p >Already have an account? <a href="/login" >Login</a ></p >
            <p >Or go <a href="/" >home</a >.</p >
        </div >
    </div >
</main >
<%- include ../../Partials/footer.ejs %>
<script >
  $(document).ready(function () {
    $("#formValidate").validate({
      rules: {
        firstname: {
          required: true,
          minlength: 2
        },
        surname: {
          required: true,
          minlength: 2
        },
        realUserName: {
          required: true,
          minlength: 5
        },
        username: {
          required: true,
          email: true
        },
        password: {
          required: true,
          minlength: 5
        },
        confirmpassword: {
          required: true,
          minlength: 5,
          equalTo: "#password"
        },
        genre: "required",
        distance: "required",
        skill: "required",
        status: {
          required: true,
          minlength: 15
        },
        agreee: "required",
      },
      messages: {
        uname: {
          required: "Enter a username",
          minlength: "Enter at least 5 characters"
        },
        curl: "Enter your website",
      },
      errorElement: 'div',
      errorPlacement: function (error, element) {
        var placement = $(element).data('error');
        if (placement) {
          $(placement).append(error)
        } else {
          error.insertAfter(element);
        }
      }
    });
  });
</script >
</body >
</html >