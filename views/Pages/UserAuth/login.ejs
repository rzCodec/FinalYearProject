<!-- views/login.ejs -->
<!doctype html>
<html >
<head >
    <%- include ../../Partials/AboveFold.ejs %>
</head >
<body >
<%- include ./partials/nav.ejs %>
<main >
    <div class="container" >
        <div class="col-sm-6 col-sm-offset-3" >
            <h1 ><span class="fa fa-sign-in" ></span > Login</h1 >

            <% if (message.length > 0) { %>
            <div class="alert alert-danger" ><%= message %></div >
            <% } %>

            <div class="row" >
                <form action="/login" method="post" id="formValidate" class="col s12 formValidate"
                      novalidate="novalidate" >
                    <div class="row" >
                        <div class="input-field col s12" >
                            <label for="username" >Email</label >
                            <input id="username" name="username" type="email" data-error=".errorTxt2" >
                            <div class="errorTxt2" ></div >
                        </div >
                        <div class="input-field col s12" >
                            <label for="password" >Password</label >
                            <input id="password" type="password" name="password" data-error=".errorTxt3" >
                            <div class="errorTxt3" ></div >
                        </div >
                        <div class="input-field col s12" >
                            <button class="btn waves-effect waves-light" type="submit" name="action" >Login</button >
                        </div >

                    </div >
                </form >
            </div >

            <hr >

            <p >Need an account? <a href="/signup" >Signup</a ></p >
            <p >Or go <a href="/" >home</a >.</p >
        </div >
    </div >
</main >
<%- include ../../Partials/footer.ejs %>
<script >
  $(document).ready(function () {
    $("#formValidate").validate({
      rules: {
        username: {
          required: true,
          email: true
        },
        password: {
          required: true,
          minlength: 5
        }
      },
      messages: {
        uname: {
          required: "Enter a username",
          minlength: "Enter at least 5 characters"
        },
        curl: "Enter your website",
      },
      errorElement: 'div',
      errorPlacement: function (error, element) {
        var placement = $(element).data('error');
        if (placement) {
          $(placement).append(error)
        } else {
          error.insertAfter(element);
        }
      }
    });
  });

</script >
</body >
</html >